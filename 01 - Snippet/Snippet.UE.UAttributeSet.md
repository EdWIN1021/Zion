# UAttributeSet

Base: UObject (UObject%201378d590ff3880b19696d9852e8a88d8.md) 
System: GAS
Type: Class

<aside>

[UObject](UObject%201378d590ff3880b19696d9852e8a88d8.md) → [`UAttributeSet`](UAttributeSet%201758d590ff3880819985e2eabfbbe876.md) 

</aside>

[@UAttributeSet ](UAttributeSet/@UAttributeSet%201898d590ff388097b4add54144229f03.csv)

## Gameplay Attribute

- Replicated

## Meta Attribute

- Not Replicated
- Temporary Placeholder
- Allows for Calculations

### **1. Attribute Class Setup**

- Create a class inheriting from **`UAttributeSet`** (e.g., **`UWarriorAttributeSet`**).
- Declare attributes as **`FGameplayAttributeData`** with appropriate replication and accessors.

### **2. Declare Attributes**

**Header File (.h):**

```
UPROPERTY(BlueprintReadOnly, Category = "Attributes", ReplicatedUsing = OnRep_Health)
FGameplayAttributeData Health;
ATTRIBUTE_ACCESSORS(UWarriorAttributeSet, Health); // Generates Get/Set/Init functions
```

### **3. Replication Setup**

- **Override `GetLifetimeReplicatedProps`:**
    
    ```cpp
    virtual void GetLifetimeReplicatedProps(TArray<FLifetimeProperty>& OutLifetimeProps) const override;
    ```
    
- **Implement in .cpp:**
    
    ```cpp
    void UWarriorAttributeSet::GetLifetimeReplicatedProps(TArray<FLifetimeProperty>& OutLifetimeProps) const
    {
        Super::GetLifetimeReplicatedProps(OutLifetimeProps);
        DOREPLIFETIME_CONDITION_NOTIFY(UWarriorAttributeSet, Health, COND_None, REPNOTIFY_Always);
    }
    ```
    

### **4. Replication Notification Function**

- **Declare `OnRep` function in header:**
    
    ```cpp
    UFUNCTION()
    void OnRep_Health(const FGameplayAttributeData& OldHealth) const;
    ```
    
- **Implement in .cpp:**
    
    ```cpp
    void UWarriorAttributeSet::OnRep_Health(const FGameplayAttributeData& OldHealth) const
    {
        GAMEPLAYATTRIBUTE_REPNOTIFY(UWarriorAttributeSet, Health, OldHealth);
    }
    ```
    

### **5. Initialize Attributes**

- In the constructor, initialize default values:
    
    ```cpp
    UWarriorAttributeSet::UWarriorAttributeSet()
    {
        InitHealth(100.f); // Generated by ATTRIBUTE_ACCESSORS
    }
    ```
    

### **6. Meta Attributes (Non-Replicated)**

- Declare without replication:
    
    ```cpp
    UPROPERTY(BlueprintReadOnly, Category = "Meta Attributes")
    FGameplayAttributeData TemporaryDamage;
    ATTRIBUTE_ACCESSORS(UWarriorAttributeSet, TemporaryDamage);
    ```
    
- No replication setup needed.

### **7. Debugging Configuration**

- **Console Command:** Use **`showdebug abilitysystem`** in-game.
- **Config File:** Update **`DefaultGame.ini`**:
    
    ```cpp
    [/Script/GameplayAbilities.AbilitySystemGlobals]bUseDebugTargetFromHud=true
    ```
    

### **Key Macros & Functions:**

- **`ATTRIBUTE_ACCESSORS`:** Generates **`GetHealth()`**, **`SetHealth()`**, **`InitHealth()`**.
- **`GAMEPLAYATTRIBUTE_REPNOTIFY`:** Handles replication notifications in **`OnRep`** functions.
- **`DOREPLIFETIME_CONDITION_NOTIFY`:** Ensures attribute replication with conditions and notifications.

### **Example Flow:**

1. **Server Updates Health:**
    
    ```cpp
    SetHealth(GetHealth() - Damage); // Triggers replication
    ```
    
2. **Clients Receive Update:** Via **`OnRep_Health`**, updating local values and UI.

### **Notes:**

- **Replication:** Only necessary for attributes needing synchronization across network.
- **Meta Attributes:** Use for transient data (e.g., damage calculation intermediates).
- **Debugging:** Ensure HUD displays debug info with correct **`.ini`** settings.

This setup ensures attributes are efficiently managed, replicated, and accessible within the GAS framework.